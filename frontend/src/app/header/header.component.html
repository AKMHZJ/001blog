<header class="fixed top-0 w-full z-50 backdrop-blur-md border-b transition-colors duration-500"
        [ngStyle]="{
          'background-color': isDark ? 'rgba(0,0,0,0.8)' : 'rgba(255,255,255,0.8)',
          'border-color': isDark ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.1)'
        }">

  <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">

    <a routerLink="/" class="hover:opacity-70 transition-opacity flex items-center gap-2">
      <div class="w-8 h-8 rounded-full flex items-center justify-center font-semibold text-lg font-serif"
           [ngStyle]="{'background-color': isDark ? '#ffffff' : '#000000', 'color': isDark ? '#000000' : '#ffffff'}">
        B
      </div>
      <h1 class="font-serif text-lg tracking-wide"
          [ngStyle]="{'color': isDark ? '#ffffff' : '#000000'}">
        Blog Network
      </h1>
    </a>

    <div *ngIf="currentUser" class="flex items-center gap-8">

      <nav class="hidden md:flex gap-8 font-sans text-sm">
        <a routerLink="/"
           routerLinkActive="opacity-100 font-medium"
           [routerLinkActiveOptions]="{exact: true}"
           class="transition-all opacity-60 hover:opacity-100"
           [style.color]="isDark ? 'white' : 'black'">
          Feed
        </a>
        <a routerLink="/my-blog"
           routerLinkActive="opacity-100 font-medium"
           class="transition-all opacity-60 hover:opacity-100"
           [style.color]="isDark ? 'white' : 'black'">
          My Blog
        </a>
        <a routerLink="/discover"
           routerLinkActive="opacity-100 font-medium"
           class="transition-all opacity-60 hover:opacity-100"
           [style.color]="isDark ? 'white' : 'black'">
          Discover
        </a>
        <a routerLink="/about"
           routerLinkActive="opacity-100 font-medium"
           class="transition-all opacity-60 hover:opacity-100"
           [style.color]="isDark ? 'white' : 'black'">
          About
        </a>
      </nav>

      <div class="flex items-center gap-3 pl-8 border-l"
           [style.border-color]="isDark ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.1)'">

        <img [src]="currentUser.avatar || 'assets/default-avatar.png'"
             alt="User"
             class="w-8 h-8 rounded-full object-cover bg-gray-500">

        <button (click)="initiateLogout()"
                class="transition-colors hover:text-red-500"
                [style.color]="isDark ? 'rgba(255,255,255,0.6)' : 'rgba(0,0,0,0.6)'"
                title="Logout">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
            <polyline points="16 17 21 12 16 7"></polyline>
            <line x1="21" y1="12" x2="9" y2="12"></line>
          </svg>
        </button>
      </div>
    </div>
  </div>
</header>

<div *ngIf="showLogoutModal"
     class="fixed inset-0 z-[100] flex items-center justify-center p-4 backdrop-blur-sm transition-all duration-300"
     [ngStyle]="{'background-color': isDark ? 'rgba(0,0,0,0.6)' : 'rgba(255,255,255,0.6)'}">

  <div class="rounded-2xl p-8 max-w-sm w-full shadow-2xl"
       [ngStyle]="{
         'background-color': isDark ? '#1a1a1a' : '#ffffff',
         'color': isDark ? '#ffffff' : '#000000',
         'border': isDark ? '1px solid rgba(255,255,255,0.1)' : '1px solid rgba(0,0,0,0.1)'
       }">

    <h3 class="font-serif text-2xl mb-2 text-center">Log Out?</h3>
    <p class="font-sans text-center opacity-70 mb-8 text-sm">
      Are you sure you want to end your session?
    </p>

    <div class="flex gap-4">
      <button (click)="cancelLogout()"
              class="flex-1 py-3 rounded-full font-sans text-sm font-medium transition-colors"
              [ngStyle]="{'background-color': isDark ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.05)'}">
        Cancel
      </button>
      <button (click)="confirmLogout()"
              class="flex-1 py-3 rounded-full font-sans text-sm font-medium hover:opacity-90"
              style="background-color: #ef4444; color: white;">
        Log Out
      </button>
    </div>
  </div>
</div>
